function changText(c){var a=c.split("");for(var b=0;b<a.length;b++){if(a[b].charCodeAt(0)>=65&&a[b].charCodeAt(0)<=90){a[b]=a[b].toLowerCase()}else{a[b]=a[b].toUpperCase()}}c="";for(var b=0;b<a.length;b++){c+=a[b]}return c}function HNAP_XML(){}HNAP_XML.prototype={XML_hnap:null,GetXML:function(b,h){var i=this;var g=GetAjaxObj("GetXML");g.createRequest();g.onCallback=function(j){g.release();j.AnchorNode=j.XDoc.getElementsByTagName("soap:Body")[0];if(j.AnchorNode==undefined||j.AnchorNode==null){j.AnchorNode=j.XDoc.getElementsByTagName("Body")[0]}if(h!=null){for(var k=0;k<h.length;k=k+2){j.Set(b+"/"+h[k],h[k+1])}}i.XML_hnap=j};var a=sessionStorage.getItem("Cookie");$.cookie("uid",a,{expires:1,path:"/"});g.setHeader("Content-Type","text/xml");g.requestMethod="GET";g.requestAsyn=false;g.sendRequest("/hnap/"+b+".xml");if(b.substr(0,3)=="Get"&&b!="GetMultipleHNAPs"){var g=GetAjaxObj("GetXMLFromHNAP");g.createRequest();g.onCallback=function(j){g.release();j.AnchorNode=j.XDoc.getElementsByTagName("soap:Body")[0];if(j.AnchorNode==undefined||j.AnchorNode==null){j.AnchorNode=j.XDoc.getElementsByTagName("Body")[0]}i.XML_hnap=j};g.requestAsyn=false;g.clearAllHeaders();var a=sessionStorage.getItem("Cookie");$.cookie("uid",a,{expires:1,path:"/"});g.setHeader("Content-Type","text/xml");g.setHeader("Accept","text/xml");g.setHeader("SOAPACTION",'"http://purenetworks.com/HNAP1/'+b+'"');var e=sessionStorage.getItem("PrivateKey");if(e==null){e="withoutloginkey"}var d=new Date().getTime();d=Math.floor(d/1000)%2000000000;var f='"http://purenetworks.com/HNAP1/'+b+'"';var c=hex_hmac_md5(e,d.toString()+f);c=changText(c);g.setHeader("HNAP_AUTH",c+" "+d);g.sendRequest("/HNAP1/",this.XML_hnap.XDoc);return this.XML_hnap}return this.XML_hnap},GetXMLAsync:function(b,e,g,d){var c=this;var a=GetAjaxObj("GetXMLAsync");a.createRequest();a.onCallback=function(j){a.release();j.AnchorNode=j.XDoc.getElementsByTagName("soap:Body")[0];if(j.AnchorNode==undefined||j.AnchorNode==null){j.AnchorNode=j.XDoc.getElementsByTagName("Body")[0]}if(e!=null){for(var k=0;k<e.length;k=k+2){j.Set(b+"/"+e[k],e[k+1])}}c.XML_hnap=j;switch(g){case"GetXML":d(j);break;case"GetValue":h(c.XML_hnap,b,e,d);break}};var f=sessionStorage.getItem("Cookie");$.cookie("uid",f,{expires:1,path:"/"});a.setHeader("Content-Type","text/xml");a.requestMethod="GET";a.requestAsyn=true;a.sendRequest("/hnap/"+b+".xml");function h(m,j,r,p){var s=this;var q=GetAjaxObj("GetXMLAsync");q.createRequest();q.onCallback=function(t){q.release();t.AnchorNode=t.XDoc.getElementsByTagName("soap:Body")[0];if(t.AnchorNode==undefined||t.AnchorNode==null){t.AnchorNode=t.XDoc.getElementsByTagName("Body")[0]}if(r!=null){for(var u=0;u<r.length;u=u+2){t.Set(j+"/"+r[u],r[u+1])}}s.XML_hnap=t;p(t)};q.requestAsyn=true;q.clearAllHeaders();var i=sessionStorage.getItem("Cookie");$.cookie("uid",i,{expires:1,path:"/"});q.setHeader("Content-Type","text/xml");q.setHeader("Accept","text/xml");q.setHeader("SOAPACTION",'"http://purenetworks.com/HNAP1/'+j+'"');var n=sessionStorage.getItem("PrivateKey");if(n==null){n="withoutloginkey"}var l=new Date().getTime();l=Math.floor(l/1000)%2000000000;var o='"http://purenetworks.com/HNAP1/'+j+'"';var k=hex_hmac_md5(n,l.toString()+o);k=changText(k);q.setHeader("HNAP_AUTH",k+" "+l);q.sendRequest("/HNAP1/",m.XDoc)}},SetXML:function(b,e){var i=this;var h=GetAjaxObj("SetXML");h.createRequest();h.onCallback=function(j){h.release();j.AnchorNode=j.XDoc.getElementsByTagName("soap:Body")[0];if(j.AnchorNode==undefined||j.AnchorNode==null){j.AnchorNode=j.XDoc.getElementsByTagName("Body")[0]}i.XML_hnap=j};h.requestAsyn=false;h.clearAllHeaders();var a=sessionStorage.getItem("Cookie");$.cookie("uid",a,{expires:1,path:"/"});h.setHeader("Content-Type","text/xml");h.setHeader("Accept","text/xml");h.setHeader("SOAPACTION",'"http://purenetworks.com/HNAP1/'+b+'"');var f=sessionStorage.getItem("PrivateKey");if(f==null){f="withoutloginkey"}var d=new Date().getTime();d=Math.floor(d/1000)%2000000000;var g='"http://purenetworks.com/HNAP1/'+b+'"';var c=hex_hmac_md5(f,d.toString()+g);c=changText(c);h.setHeader("HNAP_AUTH",c+" "+d);h.sendRequest("/HNAP1/",e.XDoc);return this.XML_hnap},SetXMLAsync:function(b,e,h){var j=this;var i=GetAjaxObj("SetXMLAsync");i.createRequest();i.onCallback=function(k){i.release();k.AnchorNode=k.XDoc.getElementsByTagName("soap:Body")[0];if(k.AnchorNode==undefined||k.AnchorNode==null){k.AnchorNode=k.XDoc.getElementsByTagName("Body")[0]}h(k)};i.requestAsyn=true;i.clearAllHeaders();var a=sessionStorage.getItem("Cookie");$.cookie("uid",a,{expires:1,path:"/"});i.setHeader("Content-Type","text/xml");i.setHeader("Accept","text/xml");i.setHeader("SOAPACTION",'"http://purenetworks.com/HNAP1/'+b+'"');var f=sessionStorage.getItem("PrivateKey");if(f==null){f="withoutloginkey"}var d=new Date().getTime();d=Math.floor(d/1000)%2000000000;var g='"http://purenetworks.com/HNAP1/'+b+'"';var c=hex_hmac_md5(f,d.toString()+g);c=changText(c);i.setHeader("HNAP_AUTH",c+" "+d);i.sendRequest("/HNAP1/",e.XDoc)}};