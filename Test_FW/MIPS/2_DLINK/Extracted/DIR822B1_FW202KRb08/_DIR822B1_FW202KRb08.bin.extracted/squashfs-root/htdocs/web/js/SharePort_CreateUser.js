var ROW_BASE=1;var IsLoaded=false;var TABLE_NAME="tblUserList";var TABLE_NAME2="tblUserList2";var TABLE_NAME3="tblUserList3";var USER_NUMBER="usernumber_";var USER_NAME="username_";var USER_PASSWORD="userpassword_";var ACCESS_PATH="accesspath_";var USER_PROMISSION="userpromission_";var EDIT_ICON="editicon_";var DELETE_ICON="delicon_";var a,b,c,d,e;var tmp_Iteration;var tmp_UserName;var tmp_UserPassword;var tmp_AccessPath;var tmp_UserPromission;var tmp_add_UserName;var tmp_add_UserPassword;var tmp_add_AccessPath;var tmp_add_UserPromission;var tmp_ID;var IsLoaded=true;function GetHNAPInformatiom(g,j,i,h,f){a=g;b=j;c=i;d=h;e=f}function myRowObject(i,h,j,k,f,g){this.one=i;this.two=h;this.three=j;this.four=k;this.five=f;this.six=g}function addRowToTable(j){if(IsLoaded){var h=document.getElementById(TABLE_NAME);var u=h.tBodies[0].rows.length;var f=u+ROW_BASE;if(j==null){j=u}else{f=j+ROW_BASE}var v=h.tBodies[0].insertRow(j);var t=v.insertCell(0);var q=document.createElement("label");q.setAttribute("id",USER_NAME+f);q.setAttribute("size","10");q.innerHTML=b;t.appendChild(q);var s=v.insertCell(1);var o=document.createElement("label");o.setAttribute("id",ACCESS_PATH+f);o.setAttribute("size","50");d=d.replace("/","");if(d==DefaultDirectory_RootP||d==DefaultDirectory_Path||d=="root"||d=="/root"){o.innerHTML=I18N("j","root")}else{o.innerHTML=d}s.appendChild(o);var r=v.insertCell(2);var m=document.createElement("label");m.setAttribute("id",USER_PROMISSION+f);m.setAttribute("size","10");if(e=="true"){m.innerHTML=I18N("j","Read/Write")}else{m.innerHTML=I18N("j","Read Only")}r.appendChild(m);var p=v.insertCell(3);var k=document.createElement("img");k.setAttribute("src","image/edit_btn.png");k.setAttribute("width","28");k.setAttribute("height","28");k.setAttribute("id",EDIT_ICON+f);k.setAttribute("style","cursor:pointer");k.onclick=function(){editData(f)};p.appendChild(k);var n=v.insertCell(4);var i=document.createElement("img");i.setAttribute("src","image/trash.png");i.setAttribute("width","41");i.setAttribute("height","41");i.setAttribute("id",DELETE_ICON+f);i.setAttribute("style","cursor:pointer");i.onclick=function(){deleteCurrentRow(this)};n.appendChild(i);var l=v.insertCell(5);var g=document.createElement("label");g.setAttribute("id",USER_PASSWORD+f);g.setAttribute("size","10");g.innerHTML=c;g.setAttribute("style","display:none");l.appendChild(g);v.myRow=new myRowObject(q,o,m,k,i,g);b=null;c=null;d=null;e=null}}function AddRowToIndex(){var g=document.getElementById(TABLE_NAME);var h=document.getElementById("shareport_UserName").value;for(var f=2;f<=Total_User+1;f++){if(h===g.rows[f].childNodes[0].childNodes[0].innerHTML){alert("Username can not be the same");return"Error"}}if(h==""){alert("Username can not be null");return"Error"}b=document.getElementById("shareport_UserName").value;c=document.getElementById("shareport_Password").value;d=document.getElementById("shareport_Folder").value;if(document.getElementById("shareport_Permission").value=="1"){e="false"}else{e="true"}if(d==""){alert("Error! Value cannot be null.");return"Error"}else{addRowToTable(null);Total_User+=1;check_TotalUser(Limit_TotalUser,Total_User)}document.getElementById("shareport_UserName").value="";document.getElementById("shareport_Password").value="";document.getElementById("shareport_Permission").value="1";document.getElementById("shareport_Folder").value="";return"Success"}function editDataGet(k){var h=document.getElementById(TABLE_NAME);var g=h.rows[k].childNodes[0].childNodes[0].innerHTML;var f=h.rows[k].childNodes[5].childNodes[0].innerHTML;var j=h.rows[k].childNodes[1].childNodes[0].innerHTML;var i=h.rows[k].childNodes[2].childNodes[0].innerHTML;document.getElementById("edit_UserName").value=g;document.getElementById("edit_Password").value=f;document.getElementById("edit_Folder").value=j;if(i==I18N("j","Read Only")){$("#edit_Permission").selectbox("detach");$("#edit_Permission").val("1");$("#edit_Permission").selectbox("attach");tmp_UserPromission="1"}else{$("#edit_Permission").selectbox("detach");$("#edit_Permission").val("2");$("#edit_Permission").selectbox("attach");tmp_UserPromission="2"}tmp_UserName=g;tmp_Password=f;tmp_AccessPath=j;setIteration(k);tmp_ID=k}function assignRowToIndex(j){var g=document.getElementById(TABLE_NAME);var h=document.getElementById("edit_UserName").value;if(h!=""){for(var f=2;f<=Total_User+1;f++){if(h===g.rows[f].childNodes[0].childNodes[0].innerHTML){if(tmp_ID==f){continue}else{return"Error"}}}}g.rows[j].childNodes[0].childNodes[0].innerHTML=document.getElementById("edit_UserName").value;if(document.getElementById("edit_Folder").value==DefaultDirectory_Path){g.rows[j].childNodes[1].childNodes[0].innerHTML=I18N("j","root")}else{g.rows[j].childNodes[1].childNodes[0].innerHTML=document.getElementById("edit_Folder").value}if(tmp_UserPromission=="1"){g.rows[j].childNodes[2].childNodes[0].innerHTML=I18N("j","Read Only")}else{g.rows[j].childNodes[2].childNodes[0].innerHTML=I18N("j","Read/Write")}g.rows[j].childNodes[5].childNodes[0].innerHTML=document.getElementById("edit_Password").value;check_TotalUser(Limit_TotalUser,Total_User);return tmp_ID}function deleteCurrentRow(j){if(IsLoaded){var f=j.parentNode.parentNode;var i=f.parentNode.parentNode;var h=f.sectionRowIndex;var g=new Array(f);deleteRows(g);reorderRows(i,h);Total_User-=1;check_TotalUser(Limit_TotalUser,Total_User);save_button_changed()}}function OnChangeUserName(f){tmp_UserName=f}function OnChangeFolder(f){tmp_AccessPath=f}function OnChangePermission(f){tmp_UserPromission=f}function deleteRows(h){if(IsLoaded){for(var f=0;f<h.length;f++){var g=h[f].sectionRowIndex;h[f].parentNode.deleteRow(g)}}}function changeRowIndex(f){var g=document.getElementById(TABLE_NAME);g.rows[f].childNodes[3].childNodes[0].onclick=function(){editData(f)}}function reorderRows(j,h){var j=document.getElementById(TABLE_NAME);if(IsLoaded){if(j.tBodies[0].rows[h]){var g=h+ROW_BASE;for(var f=h;f<j.tBodies[0].rows.length;f++){j.tBodies[0].rows[f].myRow.one.id=USER_NAME+g;j.tBodies[0].rows[f].myRow.two.id=ACCESS_PATH+g;j.tBodies[0].rows[f].myRow.three.id=USER_PROMISSION+g;j.tBodies[0].rows[f].myRow.four.id=EDIT_ICON+g;j.tBodies[0].rows[f].myRow.five.id=DELETE_ICON+g;j.tBodies[0].rows[f].myRow.six.id=USER_PASSWORD+g;changeRowIndex(g);g++}}}}function check_TotalUser(h,g){var f=h-g;document.getElementById("RemainingRules").innerHTML=f;if(f==0){document.getElementById("createButton").disabled=true}else{document.getElementById("createButton").disabled=false}};