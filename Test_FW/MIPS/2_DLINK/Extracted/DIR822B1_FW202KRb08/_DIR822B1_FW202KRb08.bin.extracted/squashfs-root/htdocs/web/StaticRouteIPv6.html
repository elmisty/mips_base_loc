<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3c.org/1999/xhtml"> <head> <title>D-LINK</title> <meta http-equiv="X-UA-Compatible" content="IE=9"> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta http-equiv="Content-Type" content="text/css"> <link rel=stylesheet type="text/css" href="/css/jquery.selectbox.css?v=20200423094010"/> <script type="text/javascript" charset="utf-8" src="/js/initialJQ.js"></script> <script type="text/javascript" charset="utf-8" src="/js/initialJS.js"></script> <script type="text/javascript" charset="utf-8" src="/js/initialCSS.js"></script> <script type="text/javascript" charset="utf-8" src="/js/initialValidate.js"></script> <script type="text/javascript" charset="utf-8" src="/js/StaticRoute.js?v=20200423094010"></script> <script type="text/javascript">var HNAP=new HNAP_XML();var Limit_TotalStaticRouteRules=24;var datalist;function Load_HTML(){$("#header").load("header.html")}function Initial(){initialMenu();initialDetectRouterConnection();resetRulePOP();datalist=new Datalist()}function GetXML(){HNAP.GetXMLAsync("GetStaticRouteIPv6Settings",null,"GetValue",function(a){GetResult_1st(a)})}function GetResult_1st(a){if(a!=null){var d=a.Get("GetStaticRouteIPv6SettingsResponse/StaticRouteIPv6List/SRIPv6Info#");for(var f=1;f<=d;f++){var h=a.Get("GetStaticRouteIPv6SettingsResponse/StaticRouteIPv6List/SRIPv6Info:"+f+"/Status");var l=a.Get("GetStaticRouteIPv6SettingsResponse/StaticRouteIPv6List/SRIPv6Info:"+f+"/Name");var b=a.Get("GetStaticRouteIPv6SettingsResponse/StaticRouteIPv6List/SRIPv6Info:"+f+"/DestNetwork");var j=a.Get("GetStaticRouteIPv6SettingsResponse/StaticRouteIPv6List/SRIPv6Info:"+f+"/PrefixLen");var c=a.Get("GetStaticRouteIPv6SettingsResponse/StaticRouteIPv6List/SRIPv6Info:"+f+"/Gateway");var g=a.Get("GetStaticRouteIPv6SettingsResponse/StaticRouteIPv6List/SRIPv6Info:"+f+"/Metric");var k=a.Get("GetStaticRouteIPv6SettingsResponse/StaticRouteIPv6List/SRIPv6Info:"+f+"/Interface");var e=new Data(decode_char_text(l),b,j,c,g,k);e.setEnable(h);datalist.push(e)}check_TotalRule(Limit_TotalStaticRouteRules,datalist.length());$("#sr_Interface").selectbox({width:170});document.getElementById("main").style.display="inline";$("select").change(function(){save_button_changed()});$("input").keydown(function(){save_button_changed()});$("input").change(function(){save_button_changed()})}else{if(DebugMode==1){alert("[!!GetXML Error!!] Function: GetResult_1st")}}}function CheckConnectionStatus(){$.ajax({cache:false,url:"./js/CheckConnection",timeout:5000,type:"GET",success:function(a){SetXML()},error:function(){document.getElementById("DetectRouterConnection").style.display="inline"}})}function SetXML(){document.getElementById("CreatePopAlertMessage").style.display="inline";HNAP.GetXMLAsync("SetStaticRouteIPv6Settings",null,"GetXML",function(a){SetResult_1st(a)})}function SetResult_1st(a){if(a!=null){for(var b=0;b<datalist.length();b++){a.Set("SetStaticRouteIPv6Settings/StaticRouteIPv6List/SRIPv6Info:"+(b+1)+"/Status",datalist.list[b].enable);a.Set("SetStaticRouteIPv6Settings/StaticRouteIPv6List/SRIPv6Info:"+(b+1)+"/Name",encode_char_text(datalist.list[b].name));a.Set("SetStaticRouteIPv6Settings/StaticRouteIPv6List/SRIPv6Info:"+(b+1)+"/DestNetwork",datalist.list[b].ipAddress);a.Set("SetStaticRouteIPv6Settings/StaticRouteIPv6List/SRIPv6Info:"+(b+1)+"/PrefixLen",datalist.list[b].mask);switch(datalist.list[b].dev){case"NULL":case"LAN(DHCP-PD)":a.Set("SetStaticRouteIPv6Settings/StaticRouteIPv6List/SRIPv6Info:"+(b+1)+"/Gateway","");break;case"WAN":case"LAN":a.Set("SetStaticRouteIPv6Settings/StaticRouteIPv6List/SRIPv6Info:"+(b+1)+"/Gateway",datalist.list[b].gateway);break}a.Set("SetStaticRouteIPv6Settings/StaticRouteIPv6List/SRIPv6Info:"+(b+1)+"/Metric",datalist.list[b].metric);a.Set("SetStaticRouteIPv6Settings/StaticRouteIPv6List/SRIPv6Info:"+(b+1)+"/Interface",datalist.list[b].dev)}HNAP.SetXMLAsync("SetStaticRouteIPv6Settings",a,function(c){SetResult_2nd(c)})}else{if(DebugMode==1){alert("[!!SetXML Error!!] Function: SetResult_1st")}}}function SetResult_2nd(b){var a=b.Get("SetStaticRouteIPv6SettingsResponse/SetStaticRouteIPv6SettingsResult");if(a=="REBOOT"){setTimeout("waitSettingFinished()",1000)}if(a=="OK"){setTimeout("waitSettingFinished()",1000)}if(a=="ERROR"){if(DebugMode==1){alert("[!!SetXML Error!!] Function: SetResult_2nd")}window.location.reload()}}function waitSettingFinished(){window.location.reload()}function createUserButton(){changeTimeoutAction();var c=document.documentElement.clientHeight;var b=document.getElementById("header").clientHeight;var a=c-b;$("#popTitle").html(I18N("j","Create New Route"));document.getElementById("createPop").style.display="inline";document.getElementById("createButton").disabled=true;$("#staticrouterv6_form").val(-1)}function closeCreateRulePOP(b){changeTimeoutAction();var i=false;var a=$("#sr_Name").val();var e=$("#sr_DestNetwork").val();var h=$("#sr_PrefixLen").val();var g=$("#sr_Gateway").val();var c=$("#sr_Metric").val();var f=$("#sr_Interface").val();var d=new Data(a,e,h,g,c,f);if(b<0){i=datalist.push(d)}else{i=datalist.editData(b,d)}if(i){resetRulePOP();check_TotalRule(Limit_TotalStaticRouteRules,datalist.length())}}function clearCreateRulePOP(){changeTimeoutAction();resetRulePOP();$("#staticrouterv6_form").validate().resetForm();$(":text").prop("className","styled-text");check_TotalRule(Limit_TotalStaticRouteRules,datalist.length())}function resetRulePOP(){document.getElementById("createPop").style.display="none";document.getElementById("sr_Name").value="";document.getElementById("sr_DestNetwork").value="";document.getElementById("sr_PrefixLen").value="";document.getElementById("sr_Gateway").value="";document.getElementById("sr_Metric").value="";$("#sr_Interface").selectbox("detach");$("#sr_Interface").val("WAN");$("#sr_Interface").selectbox("attach");vs_Protocol_Description("WAN")}function editData(e){changeTimeoutAction();$("#popTitle").html(I18N("j","Edit Route"));var c=document.documentElement.clientHeight;var b=document.getElementById("header").clientHeight;var a=c-b;document.getElementById("createPop").style.display="inline";document.getElementById("createButton").disabled=true;$("#staticrouterv6_form").val(e);var d=datalist.getData(e);document.getElementById("sr_Name").value=d.name;document.getElementById("sr_DestNetwork").value=d.ipAddress;document.getElementById("sr_PrefixLen").value=d.mask;document.getElementById("sr_Gateway").value=d.gateway;document.getElementById("sr_Metric").value=d.metric;$("#sr_Interface").selectbox("detach");$("#sr_Interface").val(d.dev);vs_Protocol_Description(d.dev);$("#sr_Interface").selectbox("attach")}function deleteData(a){datalist.deleteData(a);check_TotalRule(Limit_TotalStaticRouteRules,datalist.length());save_button_changed()}function vs_Protocol_Description(a){document.getElementById("sr_Gateway").disabled=false;document.getElementById("sr_Metric").disabled=false;switch(a){case"NULL":document.getElementById("create_Gateway").style.display="none";break;case"WAN":case"LAN":document.getElementById("create_Gateway").style.display="table-row";break;case"LAN(DHCP-PD)":document.getElementById("create_Gateway").style.display="table-row";document.getElementById("sr_Gateway").disabled=true;document.getElementById("sr_Metric").disabled=true;break}}function CheckString(a,b){a.value=a.value.replace(/\s/g,"")}function focusToFirstIndex(a){if(a.id=="save_buttonFocus"){if(window.event.keyCode==9){document.getElementById("sr_Name").focus()}}}function save_button_changed(){document.getElementById("Save_Disable_btn").style.display="none";document.getElementById("Save_btn").style.display="block";changeFlag=true;checkFlag=true;changeTimeoutAction()}function check_TotalRule(a,c){var b=a-c;document.getElementById("RemainingRules").innerHTML=b;if(b==0){$("#createButton").attr("class","styled_button_dis").prop("disabled",true)}else{$("#createButton").attr("class","styled_button_s").prop("disabled",false)}}$(document).ready(function(){Load_HTML();Initial();setMenu("menu_Advanced");GetXML();startTimeout()});</script> </head> <body> <div id="wrapper"> <div id="header"></div> <div id="menu"></div> <div id="menu_edge"></div> <div id="content"> <div id="info"> <div id="FunctionName"><script>I18N("h","Static Routes");</script></div> <div id="wallimage"><img src="image/page_StaticRoute.png" alt="" width="195" height="119"/></div> <div id="directions"> <script>I18N("h","Once connected to the Internet, your router automatically builds routing tables that determine where traffic should be sent. Static routes can override this process, allowing traffic to be directed to a specific client or location.");</script> </div> </div> <div id="funcBar"> <div id="pagePath"><script>I18N("h","Features");</script> >> <script>I18N("h","Static Routes");</script> >> IPv6</div> <ul id="rightFunc"> <li style="display:block"><div id="Save_btn" onclick="CheckConnectionStatus();changeTimeoutAction();" style="cursor:pointer; display:none"><script>I18N("h","Save");</script></div></li> <li style="display:block"><div id="Save_Disable_btn"><script>I18N("h","Save");</script></div></li> <li style="display:block"><a href="javascript:CheckHTMLStatus('StaticRoute');" style="text-decoration:none;" onclick="return confirmExit()"><div id="page_btn" class="linkstyle_1"><script>I18N("h","IPv4");</script></div></a></li> </ul> </div> <div id="main" style="display:none"> <table class="mainTable" border="0" cellspacing="0" id="tblStaticRoute"> <thead> <tr> <th><script>I18N("h","Status");</script></th> <th><script>I18N("h","Name");</script></th> <th><script>I18N("h","DestNetwork");</script></th> <th><script>I18N("h","PrefixLen");</script></th> <th><script>I18N("h","Gateway");</script></th> <th><script>I18N("h","Metric");</script></th> <th><script>I18N("h","Interface");</script></th> <th><script>I18N("h","Edit");</script></th> <th><script>I18N("h","Delete");</script></th> </tr> </thead> <tbody></tbody> </table> <br/> <br/> <button type="button" name="createButton" id="createButton" class="styled_button_s" onclick="createUserButton()"><script>I18N("h","Add Route");</script></button> &nbsp;&nbsp;<script>I18N("h","Remaining");</script>:&nbsp;<label id="RemainingRules">10</label> <br/> <form name="staticrouterv6_form" id="staticrouterv6_form" action=""> <input id="sumbit_CheckData" class="submit" type="submit" value="Submit" style="display:none"/> <div id="createPop" style="display:none"> <div class="dialogBox" style="width:616px"> <div id="closeCreatePopBtn" onclick="clearCreateRulePOP()" style="cursor:pointer"></div> <table class="myCreatePop_table" border="0" cellspacing="0" id="tblStaticRoute3"> <tbody> <tr> <td colspan="3"><div class="popTitle" id="popTitle"></div></td> </tr> <tr> <th style="width: 212px"><script>I18N("h","Name");</script>:</th> <td width="20px"><input class="styled-text" type="text" name="sr_Name" size="27" id="sr_Name" Maxlength="20" tabindex="1"></td> <td> <div style="width: 150px"></div> </td> </tr> <tr> <th><script>I18N("h","DestNetwork");</script>:</th> <td><input class="styled-text" type="text" name="sr_DestNetwork" size="27" id="sr_DestNetwork" tabindex="2" onchange="CheckString(this, this.value)"></td> </tr> <tr> <th><script>I18N("h","PrefixLen");</script>:</th> <td><input class="styled-text" type="text" name="sr_PrefixLen" size="5" id="sr_PrefixLen" Maxlength="3" tabindex="3" onchange="CheckString(this, this.value)"></td> </tr> <tr id="create_Gateway" style="display:none"> <th><script>I18N("h","Gateway");</script>:</th> <td><input class="styled-text" type="text" name="sr_Gateway" size="27" id="sr_Gateway" tabindex="4" onchange="CheckString(this, this.value)"></td> </tr> <tr> <th><script>I18N("h","Metric");</script>:</th> <td><input class="styled-text" type="text" name="sr_Metric" size="5" id="sr_Metric" Maxlength="3" tabindex="5" onchange="CheckString(this, this.value)"></td> </tr> <tr> <th><script>I18N("h","Interface");</script>:</th> <td width="20px"> <div class="styled-select" tabindex="6"> <select style="width: 80px" name="sr_Interface" id="sr_Interface" onChange="vs_Protocol_Description(this.value)"> <option value="NULL">NULL</option> <option value="WAN">WAN</option> <option value="LAN">LAN</option> <option value="LAN(DHCP-PD)">LAN(DHCP-PD)</option> </select> </div> </td> </tr> <tr> <td id="save_td" colspan="3"> <center><button type="button" name="createButton" class="styled_button_s" id="save_buttonFocus" tabindex="7" onclick="document.getElementById('sumbit_CheckData').click()"><script>I18N("h","Apply");</script></button></center> </td> </tr> </tbody> </table> </div> </div> </form> </div> </div> </div> <div id="CreatePopAlertMessage" style="display:none"> <div id="AlertPopRect"> <div id="AlertPopBody"> <table class="myAlertPop_table_b" id="waitSettingFinish" border="0" cellspacing="0"> <tbody> <tr> <td> <center><div id="Loading_pop_image2"></div></center> </td> </tr> <tr> <td label id="reciprocal_Number"></label></td> </tr> <tr> <td id="dialog_msg_black2"><script>I18N("h","Your changes are being saved.");</script></td> </tr> </tbody> </table> </div> </div> </div> <div id="DetectRouterConnection" style="display:none"></div> <div id="footer"> <div id="copyright"><script>I18N("h","COPYRIGHT");</script></div> </div> </div> <script type="text/javascript" charset="utf-8">$(document).ready(function(){$.validator.addMethod("checkNumber",function(d,a){var c=/(^[0-9]+$)/;var b=true;if(c.test(d)){b=true;if(a.value>128||a.value<0){a.value=128}}else{b=false}return b},jQuery.validator.messages.number);$.validator.addMethod("checkIPv6Format",function(d,a){var c=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})))))(%.+)?\s*$/;var b=true;if(c.test(d)){b=true}else{b=false}return b},jQuery.validator.messages.ipv6address_Check);$.validator.addMethod("checkIPv6NetworkFormat",function(d,a){var c=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;var e=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})))))(%.+)?\s*$/;var b=true;if(c.test(d)){if(e.test(d)){b=false}else{b=true}}else{b=false}return b},jQuery.validator.messages.ipv6networkaddress_Check);$("#staticrouterv6_form").each(function(a,b){$(b).validate({rules:{sr_Name:{required:true},sr_DestNetwork:{required:true,checkIPv6NetworkFormat:true},sr_PrefixLen:{required:true,checkNumber:true},sr_Gateway:{required:true,checkIPv6Format:true},sr_Metric:{required:true,checkNumber:true}},messages:{sr_Name:{required:jQuery.validator.messages.rule_Name},sr_DestNetwork:{required:jQuery.validator.messages.destinationIP},sr_Gateway:{required:jQuery.validator.messages.gateway_Address},sr_PrefixLen:{required:jQuery.validator.messages.prefix_Length},sr_Metric:{required:jQuery.validator.messages.matrix}},submitHandler:function(c){var d=c.value;closeCreateRulePOP(d)},debug:true})})});</script> </body> </html>