<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3c.org/1999/xhtml"> <head> <title>D-LINK</title> <meta http-equiv="X-UA-Compatible" content="IE=9"> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta http-equiv="Content-Type" content="text/css"> <meta name="format-detection" content="telephone=no"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link href="/js/bootstrap/css/bootstrap.min.css?v=20200423094010" rel="stylesheet"> <link href="/js/bootstrap/css/buttonv2.css?v=20200423094010" rel="stylesheet"> <link rel="stylesheet" type="text/css" href="css/style_mobile.css?v=20200423094010" media="all"/> <link href="css/jquery.selectbox.css?v=20200423094010" type="text/css" rel="stylesheet"/> <script type="text/javascript" charset="utf-8" src="/js/initialJQ.js"></script> <script type="text/javascript" charset="utf-8" src="/js/bootstrap/js/bootstrap.min.js?v=20200423094010"></script> <script type="text/javascript" charset="utf-8" src="/js/initialJS.js"></script> <script type="text/javascript" charset="utf-8" src="/js/initialValidate.js"></script> <script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPAction.js?v=20200423094010"></script> <script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPWanSettings.js?v=20200423094010"></script> <script type="text/javascript" charset="utf-8" src="/js/SOAP/SOAPNetworkSettings.js?v=20200423094010"></script> <script type="text/javascript">var savetime=25;var getWanSettings=new SOAPGetWanSettingsResponse();var getNetworkSettings=new SOAPGetNetworkSettingsResponse();var viewportmeta=document.querySelector('meta[name="viewport"]');$(window).on("orientationchange",function(){adjustLayout()});$(window).on("focusout",function(){viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0";viewportmeta.content="width=device-width"});function getInternetSettings(){var b=new SOAPAction();var a=b.sendSOAPAction("GetWanSettings",null,getWanSettings).done(function(c){showInternetSettings()})}function getNetwork(){var a=new SOAPAction();a.sendSOAPAction("GetNetworkSettings",null,getNetworkSettings)}function showInternetSettings(){$("#mobileDNS_1").val(getWanSettings.ConfigDNS.Primary);$("#mobileDNS_2").val(getWanSettings.ConfigDNS.Secondary);switch(getWanSettings.Type){case"DHCP":selectType("DHCP");break;case"DHCPPPPoE":$("#mobileUser").val(HTMLDecode(getWanSettings.Username));$("#mobilePW").val(HTMLDecode(getWanSettings.Password));selectType("PPPoE");break;case"Static":$("#mobileIP").val(getWanSettings.IPAddress);$("#mobileSubnet").val(getWanSettings.SubnetMask);$("#mobileGateway").val(getWanSettings.Gateway);selectType("Static");break;default:selectType("DHCP")}}function selectType(a){changeTimeoutAction();$(".internetType > button").removeClass("btn-info").addClass("btn-default");switch(a){case"DHCP":$("#internet_dhcp").removeClass("btn-default").addClass("btn-info");$(".selectPPPoE").hide();$(".selectStatic").hide();break;case"PPPoE":$("#internet_pppoe").removeClass("btn-default").addClass("btn-info");$(".selectPPPoE").show();$(".selectStatic").hide();break;case"Static":$("#internet_static").removeClass("btn-default").addClass("btn-info");$(".selectPPPoE").hide();$(".selectStatic").show();break}$(".errorMsg > label").remove();adjustLayout()}function saveInternetSettings(){var a=new SOAPAction();var b=new SOAPSetWanSettings();b.ConfigDNS.Primary=$("#mobileDNS_1").val();b.ConfigDNS.Secondary=$("#mobileDNS_2").val();b.MTU=getWanSettings.MTU;b.HostName=getWanSettings.HostName;b.SetviceName=getWanSettings.SetviceName;b.MacAddress=getWanSettings.MacAddress;b.DsLite_Configuration=getWanSettings.DsLite_Configuration;b.MaDsLite_AFTR_IPv6AddressxIdleTime=getWanSettings.DsLite_AFTR_IPv6Address;b.DsLite_B4IPv4Address=getWanSettings.DsLite_B4IPv4Address;var c=$("#internetSelect .btn-info").attr("id");switch(c){case"internet_dhcp":b.Type="DHCP";break;case"internet_pppoe":b.Type="DHCPPPPoE";b.Username=HTMLEncode($("#mobileUser").val());b.Password=HTMLEncode($("#mobilePW").val());b.AutoReconnect=true;break;case"internet_static":b.Type="Static";b.IPAddress=$("#mobileIP").val();b.SubnetMask=$("#mobileSubnet").val();b.Gateway=$("#mobileGateway").val();break}a.sendSOAPAction("SetWanSettings",b,null);changeTimeoutAction();document.getElementById("mobile_popalert").style.display="block";document.getElementById("mbwan_save_num").innerHTML=savetime;var d=setInterval("ReciprocalSaveTime()",1000);setTimeout("clearInterval("+d+");window.location.reload()",savetime*1000)}function ReciprocalSaveTime(){if(savetime>0){savetime--}document.getElementById("mbwan_save_num").innerHTML=savetime}function returnToHome(){location.href="/MobileHome.html"}function adjustLayout(){var a=$(window).height();var c=$("body").height();var b=50;if(a<c+b){$("#copyright").css("top",c+b);$(".black_overlay").css("height",c+b+20)}else{$("#copyright").css("top",a-20);$(".black_overlay").css("height",a)}};</script> <style>.block{background-color:#fff}.block>tbody>tr>th{white-space:nowrap;font-weight:normal;text-align:left;vertical-align:middle}.block>tbody>tr>td{text-align:right;vertical-align:middle}input{width:100%;border:0;text-align:right}table td input:focus{outline:0}</style> </head> <body> <div style="position:absolute;top:13px"> <button type="button" class="btn_home" onclick="returnToHome()"><script>I18N("h","Home");</script></button> </div> <div id="logo_padding" style="height:17px"></div> <div class="form-group" style="text-align:center;"> <img src="/image/logo_2.png" width="102px" height="20px"> </div> <hr/> <form role="form" name="mobile_wan_form" id="mobile_wan_form" method="POST" action="" autocomplete="off"> <div style="padding-left: 10px;padding-right: 10px;text-align:left;"> <div style="padding-left: 10px;padding-right: 10px;text-align:left;"> <div style="text-align:left;height:50px"> <img id="mobile_internet_img" src="image/mobile_internet_connected.png" width="60" height="45" style="margin-right:10px"> <b><span class="textnormal"><script>I18N("h","Internet");</script>:</span></b> </div> <div id="internetSelect" class="btn-group btn-group-justified" role="group"> <div class="internetType btn-group" role="group"> <button type="button" id="internet_dhcp" class="btn btn-default" onclick="selectType('DHCP')">DHCP</button> </div> <div class="internetType btn-group" role="group"> <button type="button" id="internet_pppoe" class="btn btn-default" onclick="selectType('PPPoE')">PPPoE</button> </div> <div class="internetType btn-group" role="group"> <button type="button" id="internet_static" class="btn btn-default" onclick="selectType('Static')"><script>I18N("h","Static IP");</script></button> </div> </div> </div> <div class="panel panel-default" style="margin: 10px"> <table class="table block" border="0"> <tbody> <tr class="selectStatic" id="selectStaticIP" onclick="$('#selectStaticIP > td > input').focus();"> <th><script>I18N("h","IP Address");</script>:</th> <td><input class="styled-text" type="text" name="mobileIP" id="mobileIP" placeholder="Required"></td> </tr> <tr class="selectStatic" id="selectStaticSubnet" onclick="$('#selectStaticSubnet > td > input').focus();"> <th><script>I18N("h","Subnet Mask");</script>:</th> <td><input class="styled-text" type="text" name="mobileSubnet" id="mobileSubnet" placeholder="Required"></td> </tr> <tr class="selectStatic" id="selectStaticGateway" onclick="$('#selectStaticGateway > td > input').focus();"> <th><script>I18N("h","Default Gateway");</script>:</th> <td><input class="styled-text" type="text" name="mobileGateway" id="mobileGateway" placeholder="Required"></td> </tr> <tr class="selectPPPoE" id="selectPPPoEUser" onclick="$('#selectPPPoEUser > td > input').focus();"> <th><script>I18N("h","Username");</script>:</th> <td><input class="styled-text" type="text" name="mobileUser" id="mobileUser" placeholder="Required"></td> </tr> <tr class="selectPPPoE" id="selectPPPoEPW" onclick="$('#selectPPPoEPW > td > input').focus();"> <th><script>I18N("h","Password");</script>:</th> <td><input class="styled-text" type="text" name="mobilePW" id="mobilePW"></td> </tr> <tr id="selectDNS_1" onclick="$('#selectDNS_1 > td > input').focus();"> <th>DNS 1:</th> <td><input class="styled-text" type="text" name="mobileDNS_1" id="mobileDNS_1"></td> </tr> <tr id="selectDNS_2" onclick="$('#selectDNS_2 > td > input').focus();"> <th>DNS 2:</th> <td><input class="styled-text" type="text" name="mobileDNS_2" id="mobileDNS_2"></td> </tr> </tbody> </table> </div> </div> <div style="text-align:center;"> <button id="save_btn" type="submit" class="btn btn-lg btn-default" style="width:50%;" onclick="changeTimeoutAction();"><script>I18N("h","Save");</script></button> </div> </form> <div id="mobile_popalert" class="black_overlay" style="display:none"> <div class="popup_window_border" style="position:relative;top:15%;"> <div class="popup_window"> <div style="position:relative;top:25%;margin:auto"> <img src="image/loading.gif" width="62px" height="62px"> </div> <div id="mbwan_save_num" class="textsmall" style="position:relative;top:25%;margin:auto"> </div> <div class="textsmall" style="position:relative;top:30%;width:100%"> <span><script>I18N("h","Your changes are being saved, please wait...");</script></span> </div> </div> </div> </div> <div id="copyright" class="copyright"> <script>I18N("h","COPYRIGHT");</script> </div> </body> <script type="text/javascript">$(document).ready(function(){startTimeout();getInternetSettings();getNetwork();adjustLayout();$("input").keydown(function(){changeTimeoutAction()});$.validator.setDefaults({submitHandler:function(a){a.submit()}});$.validator.addMethod("checkIP",function(c,a){var b=true;if(!COMM_ValidV4Format(c)||!COMM_ValidV4Addr(c)){b=false}return b},jQuery.validator.messages.address_Check);$.validator.addMethod("checkIPconflict",function(d,b){var c=true;var e=document.getElementById("mobileSubnet").value;var a=COMM_IPv4MASK2INT(e);if(e!=""&&(COMM_IPv4NETWORK(d,a)==COMM_IPv4NETWORK(getNetworkSettings.IPAddress,a))){c=false}return c},jQuery.validator.messages.checkIPv6WanLanConflict);$.validator.addMethod("checkSubnet",function(d,b){var c=true;var a=COMM_IPv4MASK2INT(d);if(a<=0||a>32){c=false}return c},jQuery.validator.messages.netmask_Check);$.validator.addMethod("checkSubnetClass",function(d,b){var c=true;var a=COMM_IPv4MASK2INT(d);if(a<8){c=false}return c},jQuery.validator.messages.netmask_checkClass);$.validator.addMethod("checkGateway",function(e,c){var d=true;var a=document.getElementById("mobileIP").value;var f=document.getElementById("mobileSubnet").value;var b=COMM_IPv4MASK2INT(f);if(!COMM_ValidV4Format(e)||!COMM_ValidV4Addr(e)){d=false}if(f!=""&&a!=""){if(!COMM_ValidV4HOST(e,b)){d=false}if(e==a){d=false}}return d},jQuery.validator.messages.address_Check);$.validator.addMethod("checkGatewayNetwork",function(e,c){var d=true;var a=document.getElementById("mobileIP").value;var f=document.getElementById("mobileSubnet").value;var b=COMM_IPv4MASK2INT(f);if(f!=""&&a!=""){if(COMM_IPv4NETWORK(e,b)!=COMM_IPv4NETWORK(a,b)){d=false}}return d},jQuery.validator.messages.gateway_checkNetwork);$.validator.addMethod("checkDNS",function(c,a){var b=true;if(c!=""&&c!="0.0.0.0"){if(!COMM_ValidV4Addr(c)){b=false}}return b},jQuery.validator.messages.address_Check);$.validator.addMethod("checkDNSconflict",function(e,c){var d=true;var b=$(".btn-info").attr("id");if(b=="internet_static"){var a=document.getElementById("mobileIP").value;if(a!=""&&e==a){d=false}}return d},jQuery.validator.messages.dns_Conflict);$.validator.addMethod("checkDNSDuplicate",function(c,a){var b=true;if(c==document.getElementById("mobileDNS_1").value&&c!=""&&document.getElementById("mobileDNS_1").value!=""){b=false}if(c==""&&document.getElementById("mobileDNS_1").value==""){var d=$("#internetSelect .btn-info").attr("id");if(d=="internet_static"){b=false}else{b=true}}return b},jQuery.validator.messages.checkDNSDuplicate);$.validator.addMethod("checkName",function(c,a){var b=true;if(c==""||c==null){b=false}return b},jQuery.validator.messages.check_UserName);$("#mobile_wan_form").validate({rules:{mobileIP:{required:true,checkIP:true,checkIPconflict:true},mobileSubnet:{required:true,checkSubnet:true,checkSubnetClass:true},mobileGateway:{required:true,checkGateway:true,checkGatewayNetwork:true},mobileUser:{checkName:true},mobilePW:{},mobileDNS_1:{checkDNS:true,checkDNSconflict:true},mobileDNS_2:{checkDNS:true,checkDNSconflict:true,checkDNSDuplicate:true}},submitHandler:function(a){saveInternetSettings()},errorPlacement:function(b,c){b.find("br").remove();var a=$("<td class='errorMsg' colspan='2'>").append(b);a.css({color:"#f00","font-size":"14px","font-weight":"normal",border:"0px","text-align":"right"});c.parent().parent().after(a);c.parent().css({border:"0px"});adjustLayout()}})});</script> </html>