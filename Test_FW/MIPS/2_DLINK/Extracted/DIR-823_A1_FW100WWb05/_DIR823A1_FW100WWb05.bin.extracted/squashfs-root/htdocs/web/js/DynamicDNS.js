var ROW_BASE=1;var IsLoaded=false;var TABLE_NAME="tblIPv6DynamicDNS";var TABLE_NAME2="tblIPv6DynamicDNS2";var TABLE_NAME3="tblIPv6DynamicDNS3";var STATUS="status_";var HOST_NAME="hostname_";var IPV6_ADDRESS="ipv6address_";var EDIT_ICON="editicon_";var DELETE_ICON="delicon_";var a,b,c;var Name_CheckList=[];var tmp_HostName;var tmp_IPv6Address;var IsLoaded=true;function GetHNAPInformation(e,d,f){a=e;b=d;c=f}function myRowObject(f,e,g,h,d){this.one=f;this.two=e;this.three=g;this.four=h;this.five=d}function addRowToTable(g){if(IsLoaded){var e=document.getElementById(TABLE_NAME);var q=e.tBodies[0].rows.length;var d=q+ROW_BASE;if(g==null){g=q}else{d=g+ROW_BASE}var r=e.tBodies[0].insertRow(g);var p=r.insertCell(0);var m=document.createElement("input");m.setAttribute("type","checkbox");m.setAttribute("id",STATUS+d);switch(a){case"Enabled":m.checked=true;break;case"Disabled":m.checked=false;break;default:alert("Bad request!");break}p.appendChild(m);var o=r.insertCell(1);var k=document.createElement("label");k.setAttribute("id",HOST_NAME+d);k.setAttribute("size","10");k.innerHTML=b;o.appendChild(k);var n=r.insertCell(2);var i=document.createElement("label");i.setAttribute("id",IPV6_ADDRESS+d);i.setAttribute("size","10");i.innerHTML=c;n.appendChild(i);var l=r.insertCell(3);var h=document.createElement("img");h.setAttribute("src","image/edit_btn.png");h.setAttribute("width","28");h.setAttribute("height","28");h.setAttribute("id",EDIT_ICON+d);h.setAttribute("style","cursor:pointer");h.onclick=function(){editData(d)};l.appendChild(h);var j=r.insertCell(4);var f=document.createElement("img");f.setAttribute("src","image/trash.png");f.setAttribute("width","41");f.setAttribute("height","41");f.setAttribute("id",DELETE_ICON+d);f.setAttribute("style","cursor:pointer");f.onclick=function(){deleteCurrentRow(this)};j.appendChild(f);r.myRow=new myRowObject(m,k,i,h,f);a=null;b=null;c=null}}function AddRowToIndex(){var g=document.getElementById(TABLE_NAME);tmp_Name=document.getElementById("dnsv6_HostName").value;for(var f=0;f<Name_CheckList.length;f++){Name_CheckList[f]=null}var e=0;for(var d=1;d<=Total_DynamicDNSIPv6Rules;d++){Name_CheckList[e]=g.rows[d].cells[1].childNodes[0].innerText;e++}for(var h=0;h<Name_CheckList.length;h++){if(tmp_Name==Name_CheckList[h]){alert("Name cannot be the same.");return"Error"}}a="Enabled";b=document.getElementById("dnsv6_HostName").value;c=document.getElementById("dnsv6_IPAddress").value;if(c==""){alert("Error! Value cannot be null.");return"Error"}else{addRowToTable(null);Total_DynamicDNSIPv6Rules+=1;check_TotalRule(Limit_TotalDynamicDNSIPv6Rules,Total_DynamicDNSIPv6Rules)}return"Success"}function editDataGet(g){var e=document.getElementById(TABLE_NAME);var f=e.rows[g].childNodes[1].childNodes[0].innerHTML;var d=e.rows[g].childNodes[2].childNodes[0].innerHTML;document.getElementById("dnsv6_EditHostName").value=f;document.getElementById("dnsv6_EditIPAddress").value=d;tmp_HostName=f;tmp_IPv6Address=d;setIteration(g)}function assignRowToIndex(e){var i=document.getElementById(TABLE_NAME);var l=document.getElementById("dnsv6_EditHostName").value;if(l!=""){for(var k=0;k<Name_CheckList.length;k++){Name_CheckList[k]=null}var f=0;for(var h=1;h<=Total_DynamicDNSIPv6Rules;h++){if(e==h){Name_CheckList[f]=l}else{Name_CheckList[f]=i.rows[h].cells[1].childNodes[0].innerText}f++}for(var j=0;j<Name_CheckList.length;j++){if(l==Name_CheckList[j]){if(j==e-1){continue}else{alert("Name cannot be the same.");return"Error"}}}i.rows[e].childNodes[0].childNodes[0].innerHTML=document.getElementById("dnsv6_EditHostName").value}var d=document.getElementById("dnsv6_EditHostName").value;var g=document.getElementById("dnsv6_EditIPAddress").value;if(d==""||g==""){alert("Error! Value cannot be null.");return"Error"}else{var i=document.getElementById(TABLE_NAME);i.rows[e].childNodes[1].childNodes[0].innerHTML=d;i.rows[e].childNodes[2].childNodes[0].innerHTML=g}check_TotalRule(Limit_TotalDynamicDNSIPv6Rules,Total_DynamicDNSIPv6Rules);return"Success"}function deleteCurrentRow(h){changeTimeoutAction();if(IsLoaded){var d=h.parentNode.parentNode;var g=d.parentNode.parentNode;var f=d.sectionRowIndex;var e=new Array(d);deleteRows(e);reorderRows(g,f);Total_DynamicDNSIPv6Rules-=1;check_TotalRule(Limit_TotalDynamicDNSIPv6Rules,Total_DynamicDNSIPv6Rules);save_button_changed()}}function deleteRows(f){if(IsLoaded){for(var d=0;d<f.length;d++){var e=f[d].sectionRowIndex;f[d].parentNode.deleteRow(e)}}}function changeRowIndex(d){var e=document.getElementById(TABLE_NAME);e.rows[d].childNodes[3].childNodes[0].onclick=function(){editData(d)}}function reorderRows(g,f){var g=document.getElementById(TABLE_NAME);if(IsLoaded){if(g.tBodies[0].rows[f]){var e=f+ROW_BASE;for(var d=f;d<g.tBodies[0].rows.length;d++){g.tBodies[0].rows[d].myRow.one.id=STATUS+e;g.tBodies[0].rows[d].myRow.two.id=HOST_NAME+e;g.tBodies[0].rows[d].myRow.three.id=IPV6_ADDRESS+e;changeRowIndex(e);e++}}}}function check_TotalRule(f,e){var d=f-e;document.getElementById("RemainingRules").innerHTML=d;if(d==0){document.getElementById("createButton").disabled=true}else{document.getElementById("createButton").disabled=false}};