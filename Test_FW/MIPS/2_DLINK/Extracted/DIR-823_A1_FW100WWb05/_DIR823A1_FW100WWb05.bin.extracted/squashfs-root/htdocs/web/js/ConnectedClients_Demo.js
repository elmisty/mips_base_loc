var array2Dv;var array2DvMF;var array2DvNM;var Total_Clients=0;var Total_MacFilterList=0;var Total_Device=0;var Current_MacFilterList=0;var Time_ClientList;var Get__MACAddress;var Get__DeviceName;var Get__NickName;var Get__ReserveIP;var Get__SetNickNameMark;var SetNickName;var Check_Flag;var Client_Type="Host";var tmpXML_SetClientInfo;var tmpXML_SetMACFilters2;var IPCam_address="";var Time_ClientUpdate;var Time_ClientSamrtPlugWatt;var NowAudioMute="";var NowSmartPlugSW="";function UpdateClientInfo(){var a=HNAP.GetXMLAsync("GetClientInfoStatusDemo",null,"GetValue",function(b){});Time_ClientUpdate=window.clearInterval(Time_ClientUpdate);Time_ClientUpdate=setTimeout("UpdateClientInfo()",2000)}function PreGetHNAP(){HNAP.GetXMLAsync("SetClientInfoDemo",null,"GetXML",function(a){PreGetHNAP_2(a)})}function PreGetHNAP_2(a){if(a!=null){tmpXML_SetClientInfo=a;HNAP.GetXMLAsync("SetMACFilters2",null,"GetXML",function(b){PreGetHNAP_3(b)})}}function PreGetHNAP_3(a){if(a!=null){tmpXML_SetMACFilters2=a}}function Get_ClientInfo(a){Client_Type=a;Time_GetConnectionUpTime=window.clearInterval(Time_GetConnectionUpTime);Time_GetConnectionUpTime_IPv6=window.clearInterval(Time_GetConnectionUpTime_IPv6);HNAP.GetXMLAsync("GetMultipleHNAPs",null,"GetXML",function(b){GetResult_CI(b)})}function GetResult_CI(a){if(a!=null){a.Set("GetMultipleHNAPs/GetClientInfoDemo");a.Set("GetMultipleHNAPs/GetMACFilters2");HNAP.SetXMLAsync("GetMultipleHNAPs",a,function(b){GetResult2_CI(b)})}else{if(DebugMode==1){alert("[!!GetXML Error!!] Function: GetResult_CI")}}}function GetResult2_CI(d){var u=d.Get("GetMultipleHNAPsResponse/GetMultipleHNAPsResult");if(u=="OK"){var f=0,a=0,c=0;Total_Clients=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo#");Total_MacFilterList=d.Get("GetMultipleHNAPsResponse/GetMACFilters2Response/MACList/MACInfo#");Total_Device=Total_Clients+Total_MacFilterList;array2Dv=new Array2DVar(Total_Device,20);if(Client_Type=="Host"){for(var v=1;v<=Total_Clients;v++){var n=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/Type");if(n=="LAN"||n=="WiFi_2.4G"||n=="WiFi_5G"){array2Dv[f][10]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/Type");array2Dv[f][0]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/DeviceName");array2Dv[f][1]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/MacAddress");array2Dv[f][2]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/IPv4Address");array2Dv[f][3]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/IPv6Address");array2Dv[f][9]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/NickName");array2Dv[f][5]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/ReserveIP");array2Dv[f][12]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/Audio");array2Dv[f][13]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/Audio_DLNA");array2Dv[f][14]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/Audio_AirPlay");array2Dv[f][15]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/Audio_Mute");array2Dv[f][16]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/SmartPlug");array2Dv[f][17]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/SmartPlug_Watt");array2Dv[f][18]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/SmartPlug_SW");array2Dv[f][19]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/SmartPlug_Name");var s=array2Dv[f][1].split(/[\s:]+/);var l=s[s.length-6];var h=s[s.length-5];var g=s[s.length-4];var q=l+":"+h+":"+g;var b=q.toUpperCase();var p=array2Dv[f][0];if(p.search("DSP")!=-1){array2Dv[f][11]="DSP"}else{if(p.search("DNS")!=-1){array2Dv[f][11]="DNS"}else{if(p.search("DCS")!=-1){array2Dv[f][11]="DCS"}else{if(p.search("DCH")!=-1){array2Dv[f][11]="DCH"}else{array2Dv[f][11]="None"}}}}if(allText.match(b)==b){var e=allText.indexOf(b)+9;var m=allText.slice(e,e+16);array2Dv[f][4]=m}else{array2Dv[f][4]="Unknown Vendor"}if(array2Dv[f][3]==""){array2Dv[f][3]=""}f++}}}if(Client_Type=="Guest"){for(var v=1;v<=Total_Clients;v++){var n=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/Type");if(n=="WiFi_2.4G_Guest"||n=="WiFi_5G_Guest"){array2Dv[f][10]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/Type");array2Dv[f][0]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/DeviceName");array2Dv[f][1]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/MacAddress");array2Dv[f][2]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/IPv4Address");array2Dv[f][3]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/IPv6Address");array2Dv[f][9]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/NickName");array2Dv[f][5]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/ReserveIP");array2Dv[f][12]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/Audio");array2Dv[f][13]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/Audio_DLNA");array2Dv[f][14]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/Audio_AirPlay");array2Dv[f][15]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/Audio_Mute");array2Dv[f][16]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/SmartPlug");array2Dv[f][17]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/SmartPlug_Watt");array2Dv[f][18]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/SmartPlug_SW");array2Dv[f][19]=d.Get("GetMultipleHNAPsResponse/GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+v+"/SupportedAction/SmartPlug_Name");var s=array2Dv[f][1].split(/[\s:]+/);var l=s[s.length-6];var h=s[s.length-5];var g=s[s.length-4];var q=l+":"+h+":"+g;var b=q.toUpperCase();var p=array2Dv[f][0];if(p.search("DSP")!=-1){array2Dv[f][11]="DSP"}else{if(p.search("DNS")!=-1){array2Dv[f][11]="DNS"}else{if(p.search("DCS")!=-1){array2Dv[f][11]="DCS"}else{if(p.search("DCH")!=-1){array2Dv[f][11]="DCH"}else{array2Dv[f][11]="None"}}}}if(allText.match(b)==b){var e=allText.indexOf(b)+9;var m=allText.slice(e,e+16);array2Dv[f][4]=m}else{array2Dv[f][4]="Unknown Vendor"}if(array2Dv[f][3]==""){array2Dv[f][3]=""}f++}}}if(Total_MacFilterList>=1){for(var t=0;t<Total_Device;t++){for(var r=1;r<=Total_MacFilterList;r++){var o=d.Get("GetMultipleHNAPsResponse/GetMACFilters2Response/MACList/MACInfo:"+r+"/MacAddress");if(o==array2Dv[t][1]){if(array2Dv[t][10]=="LAN"){switch(array2Dv[t][11]){case"DCH":case"DSP":case"DNS":case"DCS":case"None":array2Dv[t][6]=I18N("j","Blocked");array2Dv[t][7]="#FF0000";array2Dv[t][8]="link_IconX_Block";break}}else{if(array2Dv[t][10]=="WiFi_2.4G"||array2Dv[t][10]=="WiFi_5G"||array2Dv[t][10]=="WiFi_2.4G_Guest"||array2Dv[t][10]=="WiFi_5G_Guest"){switch(array2Dv[t][11]){case"DCH":case"DSP":case"DNS":case"DCS":case"None":array2Dv[t][6]=I18N("j","Blocked");array2Dv[t][7]="#FF0000";array2Dv[t][8]="link_IconX_Block";break}}}break}else{if(array2Dv[t][10]=="LAN"){switch(array2Dv[t][11]){case"DCH":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDCH_Allow";break;case"DSP":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDSP_Allow";break;case"DNS":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDNS_Allow";break;case"DCS":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDCS_Allow";break;case"None":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconE_Allow";break}}else{if(array2Dv[t][10]=="WiFi_2.4G"||array2Dv[t][10]=="WiFi_5G"||array2Dv[t][10]=="WiFi_2.4G_Guest"||array2Dv[t][10]=="WiFi_5G_Guest"){switch(array2Dv[t][11]){case"DCH":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDCH_Allow";break;case"DSP":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDSP_Allow";break;case"DNS":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDNS_Allow";break;case"DCS":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDCS_Allow";break;case"None":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconW_Allow";break}}}}}}}else{for(var t=0;t<Total_Device;t++){if(array2Dv[t][10]=="LAN"){switch(array2Dv[t][11]){case"DCH":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDCH_Allow";break;case"DSP":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDSP_Allow";break;case"DNS":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDNS_Allow";break;case"DCS":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDCS_Allow";break;case"None":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconE_Allow";break}}else{if(array2Dv[t][10]=="WiFi_2.4G"||array2Dv[t][10]=="WiFi_5G"||array2Dv[t][10]=="WiFi_2.4G_Guest"||array2Dv[t][10]=="WiFi_5G_Guest"){switch(array2Dv[t][11]){case"DCH":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDCH_Allow";break;case"DSP":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDSP_Allow";break;case"DNS":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDNS_Allow";break;case"DCS":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconDCS_Allow";break;case"None":array2Dv[t][6]=I18N("j","Allowed");array2Dv[t][7]="#000000";array2Dv[t][8]="link_IconW_Allow";break}}}}}ShowClient_List(f)}else{if(DebugMode==1){alert("[!!GetXML Error!!] Function: GetResult2_CI")}}}function ShowClient_List(x){var u="";var p=0;var j=x;u='<table class="block" border="0" ondragstart="return false" onselectstart="return false" width="900px">';u+="<tbody>";u+="<tr>";if(x!=0){document.getElementById("Client_Info").style.display="none";document.getElementById("Client_Group").style.display="table-row";for(var q=1;q<=j;q++){var f=array2Dv[p][0];var h=array2Dv[p][1];var l=array2Dv[p][2];var c=array2Dv[p][3];var o=array2Dv[p][4];var d=array2Dv[p][6];var r=array2Dv[p][7];var s=array2Dv[p][8];var t=array2Dv[p][9];var b=array2Dv[p][11];var v=array2Dv[p][12];var g="true";var n="true";var m=array2Dv[p][15];var a=array2Dv[p][16];var w=array2Dv[p][17];var e=array2Dv[p][18];var k=array2Dv[p][19];if(typeof(h)=="undefined"||h.length==0){break}if(f==0){f="Unknown"}if(t!=0){f=t}if(q%3!=0){ClientNumber=q;switch(b){case"DCH":u+="<td>";u+='<div class ="client_DeviceTag" style="cursor:pointer" onclick="changeClass(this);client_DeviceConfig('+ClientNumber+')">';u+='<div class ="front side">';u+='<div class ="'+s+'"></div>';u+='<div class ="client_Info">';u+='<div class ="client_Name">'+f+"</div>";u+='<div class ="client_EditImage" onclick="event.cancelBubble=true;client_EditMember('+ClientNumber+')" style="cursor:pointer"></div>';u+='<div class ="client_Vender">'+o+"</div>";u+='<div class ="client_IPv4Address">'+l+"</div>";u+='<div class ="client_IPv6Address">'+c+"</div>";if(d=="Allowed"){u+='<div class ="client_Access">'+I18N("j","Access")+': <font color="'+r+'">'+d+"</font></div>"}else{u+='<div class ="client_Access">'+I18N("j","Access")+': <B><font color="'+r+'">'+d+"</font><B></div>"}u+="</div>";u+="</div>";u+='<div class ="back side">';if(g=="false"&&n=="false"){u+='<div class ="client_AudioSwitch_disable" onclick="event.cancelBubble=true;AudioSwitchBtn(this,'+ClientNumber+')"></div>'}else{if(m=="false"||m==""){u+='<div class ="client_AudioSwitch" onclick="event.cancelBubble=true;AudioSwitchBtn(this,'+ClientNumber+", 'false')\"></div>"}else{u+='<div class ="client_AudioSwitch_off" onclick="event.cancelBubble=true;AudioSwitchBtn(this,'+ClientNumber+", 'true')\"></div>"}}u+='<div class ="client_AccessPointInfo">';u+='<div class ="client_AccessPointName">'+f+"</div>";u+='<div class ="client_AccessPointFunction">Audio Renderer:</div>';if(g=="true"&&n=="true"){u+='<div id="enableAudioRenderer" class="checkbox_on" style="position:relative;top:15px;" onclick="event.cancelBubble=true;btnClickEvent(this, '+ClientNumber+')"><input type="checkbox" name="enableAudioRenderer" id="enableAudioRenderer_ck" checked></input></div>'}else{u+='<div id="enableAudioRenderer" class="checkbox_off" style="position:relative;top:15px;" onclick="event.cancelBubble=true;btnClickEvent(this, '+ClientNumber+')"><input type="checkbox" name="enableAudioRenderer" id="enableAudioRenderer_ck"></input></div>'}u+="</div>";u+="</div>";u+="</div>";u+="</div>";u+="</td>";break;case"DNS":u+="<td>";u+='<div class ="client_DeviceTag" onclick="openWebUI('+ClientNumber+')" style="cursor:pointer">';u+='<div class ="front">';u+='<div class ="'+s+'"></div>';u+='<div class ="client_Info">';u+='<div class ="client_Name">'+f+"</div>";u+='<div class ="client_EditImage" onclick="event.cancelBubble=true;client_EditMember('+ClientNumber+')" style="cursor:pointer"></div>';u+='<div class ="client_Vender">'+o+"</div>";u+='<div class ="client_IPv4Address">'+l+"</div>";u+='<div class ="client_IPv6Address">'+c+"</div>";if(d=="Allowed"){u+='<div class ="client_Access">'+I18N("j","Access")+': <font color="'+r+'">'+d+"</font></div>"}else{u+='<div class ="client_Access">'+I18N("j","Access")+': <B><font color="'+r+'">'+d+"</font><B></div>"}u+="</div>";u+="</div>";u+="</td>";break;case"DCS":u+="<td>";u+='<div class ="client_DeviceTag" onclick="openWebUI('+ClientNumber+')" style="cursor:pointer">';u+='<div class ="front">';u+='<div class ="'+s+'"></div>';u+='<div class ="client_Info">';u+='<div class ="client_Name">'+f+"</div>";u+='<div class ="client_EditImage" onclick="event.cancelBubble=true;client_EditMember('+ClientNumber+')" style="cursor:pointer"></div>';u+='<div class ="client_Vender">'+o+"</div>";u+='<div class ="client_IPv4Address">'+l+"</div>";u+='<div class ="client_IPv6Address">'+c+"</div>";if(d=="Allowed"){u+='<div class ="client_Access">'+I18N("j","Access")+': <font color="'+r+'">'+d+"</font></div>"}else{u+='<div class ="client_Access">'+I18N("j","Access")+': <B><font color="'+r+'">'+d+"</font><B></div>"}u+="</div>";u+="</div>";u+="</td>";break;case"DSP":u+="<td>";u+='<div class ="client_DeviceTag" style="cursor:pointer" onclick="changeClass(this);client_DeviceConfig('+ClientNumber+')">';u+='<div class ="front side">';u+='<div class ="'+s+'"></div>';u+='<div class ="client_Info">';if(k!=""){u+='<div class ="client_Name">'+k+"</div>"}else{u+='<div class ="client_Name">'+f+"</div>"}u+='<div class ="client_EditImage" onclick="event.cancelBubble=true;client_EditMember('+ClientNumber+')" style="cursor:pointer"></div>';u+='<div class ="client_Vender">'+o+"</div>";u+='<div class ="client_IPv4Address">'+l+"</div>";u+='<div class ="client_IPv6Address">'+c+"</div>";if(d=="Allowed"){u+='<div class ="client_Access">'+I18N("j","Access")+': <font color="'+r+'">'+d+"</font></div>"}else{u+='<div class ="client_Access">'+I18N("j","Access")+': <B><font color="'+r+'">'+d+"</font><B></div>"}u+="</div>";u+="</div>";u+='<div class ="back side">';if(e==""){u+='<div class ="client_PowerButton_off" onclick="event.cancelBubble=true;SmartPlugPowerBtn(this,'+ClientNumber+", 'false')\"></div>"}else{if(e=="true"){u+='<div class ="client_PowerButton" onclick="event.cancelBubble=true;SmartPlugPowerBtn(this,'+ClientNumber+", 'true')\"></div>"}else{u+='<div class ="client_PowerButton_off" onclick="event.cancelBubble=true;SmartPlugPowerBtn(this,'+ClientNumber+", 'false')\"></div>"}}u+='<div class ="client_SmartPlugInfo">';u+='<div class ="client_SmartPlugName">'+f+"</div>";u+='<div class ="watt_Image"></div>';if(e=="true"){u+='<div class ="watt_Value" id="watt_Value">'+w+"w</div>"}else{u+='<div class ="watt_Value" id="watt_Value">0w</div>'}u+="</div>";u+="</div>";u+="</div>";u+="</div>";u+="</td>";break;case"None":u+="<td>";u+='<div class ="client_DeviceTag" style ="cursor:default">';u+='<div class ="front_B side">';u+='<div class ="'+s+'"></div>';u+='<div class ="client_Info">';u+='<div class ="client_Name">'+f+"</div>";u+='<div class ="client_EditImage" onclick="client_EditMember('+ClientNumber+')" style="cursor:pointer"></div>';u+='<div class ="client_Vender">'+o+"</div>";u+='<div class ="client_IPv4Address">'+l+"</div>";u+='<div class ="client_IPv6Address">'+c+"</div>";if(d=="Allowed"){u+='<div class ="client_Access">'+I18N("j","Access")+': <font color="'+r+'">'+d+"</font></div>"}else{u+='<div class ="client_Access">'+I18N("j","Access")+': <B><font color="'+r+'">'+d+"</font><B></div>"}u+="</div>";u+="</div>";u+="</td>";break}}else{ClientNumber=q;switch(b){case"DCH":u+="<td>";u+='<div class ="client_DeviceTag" style="cursor:pointer" onclick="changeClass(this);client_DeviceConfig('+ClientNumber+')">';u+='<div class ="front side">';u+='<div class ="'+s+'"></div>';u+='<div class ="client_Info">';u+='<div class ="client_Name">'+f+"</div>";u+='<div class ="client_EditImage" onclick="event.cancelBubble=true;client_EditMember('+ClientNumber+')" style="cursor:pointer"></div>';u+='<div class ="client_Vender">'+o+"</div>";u+='<div class ="client_IPv4Address">'+l+"</div>";u+='<div class ="client_IPv6Address">'+c+"</div>";if(d=="Allowed"){u+='<div class ="client_Access">'+I18N("j","Access")+': <font color="'+r+'">'+d+"</font></div>"}else{u+='<div class ="client_Access">'+I18N("j","Access")+': <B><font color="'+r+'">'+d+"</font><B></div>"}u+="</div>";u+="</div>";u+='<div class ="back side">';if(g=="false"&&n=="false"){u+='<div class ="client_AudioSwitch_disable" onclick="event.cancelBubble=true;AudioSwitchBtn(this,'+ClientNumber+')"></div>'}else{if(m=="false"||m==""){u+='<div class ="client_AudioSwitch" onclick="event.cancelBubble=true;AudioSwitchBtn(this,'+ClientNumber+", 'false')\"></div>"}else{u+='<div class ="client_AudioSwitch_off" onclick="event.cancelBubble=true;AudioSwitchBtn(this,'+ClientNumber+", 'false')\"></div>"}}u+='<div class ="client_AccessPointInfo">';u+='<div class ="client_AccessPointName">'+f+"</div>";u+='<div class ="client_AccessPointFunction">Audio Renderer:</div>';if(g=="true"&&n=="true"){u+='<div id="enableAudioRenderer" class="checkbox_on" style="position:relative;top:15px;" onclick="event.cancelBubble=true;btnClickEvent(this, '+ClientNumber+')"><input type="checkbox" name="enableAudioRenderer" id="enableAudioRenderer_ck" checked></input></div>'}else{u+='<div id="enableAudioRenderer" class="checkbox_off" style="position:relative;top:15px;" onclick="event.cancelBubble=true;btnClickEvent(this, '+ClientNumber+')"><input type="checkbox" name="enableAudioRenderer" id="enableAudioRenderer_ck"></input></div>'}u+="</div>";u+="</div>";u+="</div>";u+="</div>";u+="</td>";u+="</tr>";break;case"DNS":u+="<td>";u+='<div class ="client_DeviceTag" onclick="openWebUI('+ClientNumber+')" style="cursor:pointer">';u+='<div class ="front">';u+='<div class ="'+s+'"></div>';u+='<div class ="client_Info">';u+='<div class ="client_Name">'+f+"</div>";u+='<div class ="client_EditImage" onclick="event.cancelBubble=true;client_EditMember('+ClientNumber+')" style="cursor:pointer"></div>';u+='<div class ="client_Vender">'+o+"</div>";u+='<div class ="client_IPv4Address">'+l+"</div>";u+='<div class ="client_IPv6Address">'+c+"</div>";if(d=="Allowed"){u+='<div class ="client_Access">'+I18N("j","Access")+': <font color="'+r+'">'+d+"</font></div>"}else{u+='<div class ="client_Access">'+I18N("j","Access")+': <B><font color="'+r+'">'+d+"</font><B></div>"}u+="</div>";u+="</div>";u+="</td>";u+="</tr>";break;case"DCS":u+="<td>";u+='<div class ="client_DeviceTag" onclick="openWebUI('+ClientNumber+')" style="cursor:pointer">';u+='<div class ="front">';u+='<div class ="'+s+'"></div>';u+='<div class ="client_Info">';u+='<div class ="client_Name">'+f+"</div>";u+='<div class ="client_EditImage" onclick="event.cancelBubble=true;client_EditMember('+ClientNumber+')" style="cursor:pointer"></div>';u+='<div class ="client_Vender">'+o+"</div>";u+='<div class ="client_IPv4Address">'+l+"</div>";u+='<div class ="client_IPv6Address">'+c+"</div>";if(d=="Allowed"){u+='<div class ="client_Access">'+I18N("j","Access")+': <font color="'+r+'">'+d+"</font></div>"}else{u+='<div class ="client_Access">'+I18N("j","Access")+': <B><font color="'+r+'">'+d+"</font><B></div>"}u+="</div>";u+="</div>";u+="</td>";u+="</tr>";break;case"DSP":u+="<td>";u+='<div class ="client_DeviceTag" style="cursor:pointer" onclick="changeClass(this);client_DeviceConfig('+ClientNumber+')">';u+='<div class ="front side">';u+='<div class ="'+s+'"></div>';u+='<div class ="client_Info">';if(k!=""){u+='<div class ="client_Name">'+k+"</div>"}else{u+='<div class ="client_Name">'+f+"</div>"}u+='<div class ="client_EditImage" onclick="event.cancelBubble=true;client_EditMember('+ClientNumber+')" style="cursor:pointer"></div>';u+='<div class ="client_Vender">'+o+"</div>";u+='<div class ="client_IPv4Address">'+l+"</div>";u+='<div class ="client_IPv6Address">'+c+"</div>";if(d=="Allowed"){u+='<div class ="client_Access">'+I18N("j","Access")+': <font color="'+r+'">'+d+"</font></div>"}else{u+='<div class ="client_Access">'+I18N("j","Access")+': <B><font color="'+r+'">'+d+"</font><B></div>"}u+="</div>";u+="</div>";u+='<div class ="back side">';if(e==""){u+='<div class ="client_PowerButton_off" onclick="event.cancelBubble=true;SmartPlugPowerBtn(this,'+ClientNumber+", 'false')\"></div>"}else{if(e=="true"){u+='<div class ="client_PowerButton" onclick="event.cancelBubble=true;SmartPlugPowerBtn(this,'+ClientNumber+", 'true')\"></div>"}else{u+='<div class ="client_PowerButton_off" onclick="event.cancelBubble=true;SmartPlugPowerBtn(this,'+ClientNumber+", 'false')\"></div>"}}u+='<div class ="client_SmartPlugInfo">';u+='<div class ="client_SmartPlugName">'+f+"</div>";u+='<div class ="watt_Image"></div>';if(e=="true"){u+='<div class ="watt_Value" id="watt_Value">'+w+"w</div>"}else{u+='<div class ="watt_Value" id="watt_Value">0w</div>'}u+="</div>";u+="</div>";u+="</div>";u+="</div>";u+="</td>";u+="</tr>";break;case"None":u+="<td>";u+='<div class ="client_DeviceTag" style ="cursor:default">';u+='<div class ="front_B side">';u+='<div class ="'+s+'"></div>';u+='<div class ="client_Info">';u+='<div class ="client_Name">'+f+"</div>";u+='<div class ="client_EditImage" onclick="client_EditMember('+ClientNumber+')" style="cursor:pointer"></div>';u+='<div class ="client_Vender">'+o+"</div>";u+='<div class ="client_IPv4Address">'+l+"</div>";u+='<div class ="client_IPv6Address">'+c+"</div>";if(d=="Allowed"){u+='<div class ="client_Access">'+I18N("j","Access")+': <font color="'+r+'">'+d+"</font></div>"}else{u+='<div class ="client_Access">'+I18N("j","Access")+': <B><font color="'+r+'">'+d+"</font><B></div>"}u+="</div>";u+="</div>";u+="</td>";u+="</tr>";break}}p++}if(Total_Device%3==1){u+="<td>";u+="</td>";u+="</tr>"}}else{if(x==0){document.getElementById("Client_Info").style.display="table-row";document.getElementById("Client_Group").style.display="none"}}u+="</tbody>";u+="</table>";document.getElementById("Client_Group").innerHTML=u;clearTimeout(Time_ClientList);Time_ClientList=setTimeout("ClearAndRenew()",3000)}function client_EditMember(b){document.getElementById("editPop").style.display="inline";var a=array2Dv[b-1][0];var f=array2Dv[b-1][1];var c=array2Dv[b-1][2];var g=array2Dv[b-1][3];var j=array2Dv[b-1][4];var e=array2Dv[b-1][5];var k=array2Dv[b-1][6];var h=array2Dv[b-1][9];var d=array2Dv[b-1][8];if(d!="link_IconX_Block"){document.getElementById("client_Name").disabled=false;document.getElementById("show_Vendor").style.display="table-row";document.getElementById("show_IPAddress").style.display="table-row";document.getElementById("show_MACAddress").style.display="none";document.getElementById("show_ReserveIP").style.display="table-row";if(h!=0){document.getElementById("client_Name").value=h}else{document.getElementById("client_Name").value=a}document.getElementById("Name_TimmyCheck").value=a;document.getElementById("client_IPAddress").value=c;document.getElementById("show_IPAddress").style.display="table-row";document.getElementById("client_MACAddress").innerHTML=f;if(j!=0){document.getElementById("client_Vendor").innerHTML=j}else{document.getElementById("client_Vendor").innerHTML="N/A"}if(e!=0){presetCheckBox("enableReserveIP",true);document.getElementById("TimmyCheckBox2").checked=true}else{presetCheckBox("enableReserveIP",false);document.getElementById("TimmyCheckBox2").checked=false}var i=I18N("j","Allowed");if(k==i){presetCheckBox("enableAccess",true);document.getElementById("TimmyCheckBox").checked=true}else{presetCheckBox("enableAccess",false);document.getElementById("TimmyCheckBox").checked=false}}else{document.getElementById("client_Name").disabled=true;document.getElementById("show_Vendor").style.display="none";document.getElementById("show_IPAddress").style.display="none";document.getElementById("show_MACAddress").style.display="table-row";document.getElementById("show_ReserveIP").style.display="none";if(h!=0){document.getElementById("client_Name").value=h}else{document.getElementById("client_Name").value=a}document.getElementById("Name_TimmyCheck").value=a;document.getElementById("client_MACAddress").innerHTML=f;if(e!=0){presetCheckBox("enableReserveIP",true);document.getElementById("TimmyCheckBox2").checked=true}else{presetCheckBox("enableReserveIP",false);document.getElementById("TimmyCheckBox2").checked=false}var i=I18N("j","Allowed");if(k==i){presetCheckBox("enableAccess",true);document.getElementById("TimmyCheckBox").checked=true}else{presetCheckBox("enableAccess",false);document.getElementById("TimmyCheckBox").checked=false}}}function closeEditPOP(){HNAP.GetXMLAsync("GetClientInfoDemoResponse",null,"GetValue",function(a){GetResult_GCI_1(a)})}function GetResult_GCI_1(e){var c=e.Get("GetClientInfoDemoResponse/GetClientInfoResult");if(c=="OK"){if(valueChanged==1){Get__MACAddress=document.getElementById("client_MACAddress").innerHTML;Get__DeviceName=document.getElementById("client_Name").value;Get__NickName=document.getElementById("Name_TimmyCheck").value;Get__ReserveIP=document.getElementById("client_IPAddress").value;Get__SetNickNameMark;var b=1;SetNickName=1;Check_Flag=0;array2DvNM=new Array2DVar(Total_Device,3);for(var f=0;f<Total_Device;f++){array2DvNM[f][0]=e.Get("GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+b+"/MacAddress");array2DvNM[f][1]=e.Get("GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+b+"/NickName");array2DvNM[f][2]=e.Get("GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+b+"/ReserveIP");b++}var d=tmpXML_SetClientInfo;for(var a=0;a<Total_Device;a++){if(Get__MACAddress==array2DvNM[a][0]){Check_Flag=1}if(Check_Flag==1){if(Get__DeviceName!=0){d.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:"+SetNickName+"/MacAddress",Get__MACAddress);if(Get__DeviceName==Get__NickName){d.Set("SetClientInfo/ClientInfoLists/ClientInfo:"+SetNickName+"/NickName","")}else{d.Set("SetClientInfo/ClientInfoLists/ClientInfo:"+SetNickName+"/NickName",Get__DeviceName)}if(document.getElementById("TimmyCheckBox2").checked==true){d.Set("SetClientInfo/ClientInfoLists/ClientInfo:"+SetNickName+"/ReserveIP",Get__ReserveIP)}else{d.Set("SetClientInfo/ClientInfoLists/ClientInfo:"+SetNickName+"/ReserveIP","")}}else{d.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:"+SetNickName+"/MacAddress",Get__MACAddress);d.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:"+SetNickName+"/NickName","");if(document.getElementById("TimmyCheckBox2").checked==true){d.Set("SetClientInfo/ClientInfoLists/ClientInfo:"+SetNickName+"/ReserveIP",Get__ReserveIP)}else{d.Set("SetClientInfo/ClientInfoLists/ClientInfo:"+SetNickName+"/ReserveIP","")}}SetNickName++}Check_Flag=0}HNAP.SetXMLAsync("SetClientInfoDemo",d,function(g){GetResult_GCI_2(g)})}else{HNAP.GetXMLAsync("GetMACFilters2",null,"GetValue",function(g){GetResult_GCI_3(g)})}}else{if(DebugMode==1){alert("[!!GetXML Error!!] Function: GetResult_GCI_1")}}}function GetResult_GCI_2(b){var a=b.Get("SetClientInfoDemoResponse/SetClientInfoDemoResult");if(a=="OK"){HNAP.GetXMLAsync("GetMACFilters2",null,"GetValue",function(c){GetResult_GCI_3(c)})}else{if(DebugMode==1){alert("[!!GetXML Error!!] Function: GetResult_GCI_2")}}}function GetResult_GCI_3(a){var e=a.Get("GetMACFilters2Response/GetMACFilters2Result");if(e=="OK"){var o=tmpXML_SetMACFilters2;var f=0;var c=a.Get("GetMACFilters2Response/MACList/MACInfo#");if(c>0){array2DvMF=new Array2DVar(c,3);for(var m=1;m<=c;m++){array2DvMF[f][0]=a.Get("GetMACFilters2Response/MACList/MACInfo:"+m+"/DeviceName");array2DvMF[f][1]=a.Get("GetMACFilters2Response/MACList/MACInfo:"+m+"/MacAddress");f++}}if(c==0&&document.getElementById("TimmyCheckBox").checked==false){var d=document.getElementById("client_MACAddress").innerHTML;var q=document.getElementById("client_Name").value;o.Set("SetMACFilters2/Enabled","true");o.Set("SetMACFilters2/IsAllowList","true");o.Set("SetMACFilters2/MACList/MACInfo:1/MacAddress",d);o.Set("SetMACFilters2/MACList/MACInfo:1/DeviceName",q);HNAP.SetXMLAsync("SetMACFilters2",o,function(i){GetResult_GCI_4(i)})}else{if(c>=1&&document.getElementById("TimmyCheckBox").checked==false){var d=document.getElementById("client_MACAddress").innerHTML;var q=document.getElementById("client_Name").value;var h=999;var n=1;for(var m=0;m<c;m++){if(d==array2DvMF[m][1]){h=999}else{h=1000;break}}o.Set("SetMACFilters2/Enabled","true");o.Set("SetMACFilters2/IsAllowList","true");if(h==1000){for(var l=1;l<=c;l++){o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/MacAddress",array2DvMF[n-1][1]);o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/DeviceName",array2DvMF[n-1][0]);n++}o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/MacAddress",d);o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/DeviceName",q);HNAP.SetXMLAsync("SetMACFilters2",o,function(i){GetResult_GCI_4(i)})}else{ClearAndRenew()}}else{if(c>1&&document.getElementById("TimmyCheckBox").checked==true){var d=document.getElementById("client_MACAddress").innerHTML;var q=document.getElementById("client_Name").value;var h=999;var n=1;var b=0;for(var m=0;m<c;m++){if(d==array2DvMF[m][1]){if(m==c-1){b=1;c=c-1}console.log("權限提升!!");h=1000;break}}o.Set("SetMACFilters2/Enabled","true");o.Set("SetMACFilters2/IsAllowList","true");if(h==1000){if(b==1){for(var g=0;g<c;g++){console.log(g);o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/MacAddress",array2DvMF[parseInt(n-1)][1]);o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/DeviceName",array2DvMF[parseInt(n-1)][0]);n++}o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/MacAddress","");o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/DeviceName","");b=0}else{var p=0;array2DvMF_a=new Array2DVar(c,3);for(var m=0;m<c;m++){array2DvMF_a[p][0]=array2DvMF[m][0];array2DvMF_a[p][1]=array2DvMF[m][1];if(d!=array2DvMF[m][1]){p++}console.log(array2DvMF_a[p][0]+","+array2DvMF_a[p][1])}c=c-1;for(var g=0;g<c;g++){console.log(g);o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/MacAddress",array2DvMF_a[g][1]);o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/DeviceName",array2DvMF_a[g][0]);n++}o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/MacAddress","");o.Set("SetMACFilters2/MACList/MACInfo:"+n+"/DeviceName","")}HNAP.SetXMLAsync("SetMACFilters2",o,function(i){GetResult_GCI_4(i)})}else{ClearAndRenew()}}else{if(c==1&&document.getElementById("TimmyCheckBox").checked==true){var d=document.getElementById("client_MACAddress").innerHTML;var q=document.getElementById("client_Name").value;var h=999;var n=1;for(var m=0;m<c;m++){if(d==array2DvMF[m][1]){h=1000;break}}if(h==1000){o.Set("SetMACFilters2/Enabled","true");o.Set("SetMACFilters2/IsAllowList","false");o.Set("SetMACFilters2/MACList/MACInfo/MacAddress","");o.Set("SetMACFilters2/MACList/MACInfo/DeviceName","");HNAP.SetXMLAsync("SetMACFilters2",o,function(i){GetResult_GCI_4(i)})}else{ClearAndRenew()}}else{ClearAndRenew()}}}}document.getElementById("editPop").style.display="none"}else{if(DebugMode==1){alert("[!!GetXML Error!!] Function: GetResult_GCI_3")}}}function GetResult_GCI_4(a){var b=a.Get("SetMACFilters2Response/SetMACFilters2Result");if(b=="OK"){ClearAndRenew()}else{if(DebugMode==1){alert("[!!GetXML Error!!] Function: GetResult_GCI_4")}}}function clearCreateRulePOP(){document.getElementById("editPop").style.display="none"}function clearCreateRulePOP_IPCam(){document.getElementById("editPop2").style.display="none"}function ClearAndRenew(){if(GetFlagD==true&&GetFlagE==false){clearTimeout(Time_ClientList);Get_ClientInfo(Client_Type)}else{if(GetFlagD==false&&GetFlagE==true){clearTimeout(Time_ClientList);Get_ClientInfo(Client_Type)}else{if(GetFlagD==false&&GetFlagE==false){document.getElementById("client_btn_Guest").setAttribute("class","v4v6_linkstyle_2");document.getElementById("client_btn_Host").setAttribute("class","v4v6_linkstyle_1");clearTimeout(Time_ClientList)}else{document.getElementById("client_btn_Guest").setAttribute("class","v4v6_linkstyle_2");document.getElementById("client_btn_Host").setAttribute("class","v4v6_linkstyle_1");clearTimeout(Time_ClientList)}}}}function detect_KeyValue(b){var a=window.event?b.keyCode:b.which;if(a==13){checkIPCamPW(IPCam_address)}}function Set_Param(a){if(a=="Host"){document.getElementById("client_btn_Guest").setAttribute("class","v4v6_linkstyle_2");document.getElementById("client_btn_Host").setAttribute("class","v4v6_linkstyle_1");GetFlagD=true;GetFlagE=false}else{if(a=="Guest"){document.getElementById("client_btn_Guest").setAttribute("class","v4v6_linkstyle_1");document.getElementById("client_btn_Host").setAttribute("class","v4v6_linkstyle_2");GetFlagD=false;GetFlagE=true}}}function Array2DVar(a,c){this.length=a;this.x=a;this.y=c;for(var b=0;b<this.length;b++){this[b]=new Array(c)}}function changeClass(a){if(a.className=="client_DeviceTag"){a.className+=" rotated"}else{a.className="client_DeviceTag"}}function SmartPlugPowerBtn(d,h,f){h=parseInt(h);var e=array2Dv[h-1][1];var g=array2Dv[h-1][19];var a=array2Dv[h-1][5];var b=HNAP.GetXML("SetClientInfoDemo");b.Set("SetClientInfoDemo/ClientInfoLists:1/ClientInfo/MacAddress",e);if(NowSmartPlugSW==""){if(f=="true"){Time_ClientSamrtPlugWatt=window.clearInterval(Time_ClientSamrtPlugWatt);document.getElementById("watt_Value").innerHTML="0w";b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioMute","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioEnable","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/SmartPlugEnable","false");d.className="client_PowerButton_off";NowSmartPlugSW="false";var c=HNAP.SetXML("SetClientInfo",b)}else{Time_ClientSamrtPlugWatt=window.clearInterval(Time_ClientSamrtPlugWatt);b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioMute","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioEnable","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/SmartPlugEnable","true");d.className="client_PowerButton";NowSmartPlugSW="true";var c=HNAP.SetXML("SetClientInfoDemo",b);Time_ClientSamrtPlugWatt=setTimeout("UpdateSmartPlugWatt("+h+")",5000)}}else{if(NowSmartPlugSW=="true"){Time_ClientSamrtPlugWatt=window.clearInterval(Time_ClientSamrtPlugWatt);document.getElementById("watt_Value").innerHTML="0w";b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioMute","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioEnable","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/SmartPlugEnable","false");d.className="client_PowerButton_off";NowSmartPlugSW="false";var c=HNAP.SetXML("SetClientInfoDemo",b)}else{Time_ClientSamrtPlugWatt=window.clearInterval(Time_ClientSamrtPlugWatt);b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioMute","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioEnable","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/SmartPlugEnable","true");d.className="client_PowerButton";NowSmartPlugSW="true";var c=HNAP.SetXML("SetClientInfoDemo",b);Time_ClientSamrtPlugWatt=setTimeout("UpdateSmartPlugWatt("+h+")",5000)}}}function AudioSwitchBtn(d,h,f){h=parseInt(h);var e=array2Dv[h-1][1];var g=array2Dv[h-1][19];var a=array2Dv[h-1][5];var b=HNAP.GetXML("SetClientInfoDemo");b.Set("SetClientInfoDemo/ClientInfoLists:1/ClientInfo/MacAddress",e);if(NowAudioMute==""){if(f=="true"){b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioMute","false");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioEnable","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/SmartPlugEnable","");d.className="client_AudioSwitch";NowAudioMute="false"}else{b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioMute","true");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioEnable","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/SmartPlugEnable","");d.className="client_AudioSwitch_off";NowAudioMute="true"}}else{if(NowAudioMute=="true"){b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioMute","false");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioEnable","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/SmartPlugEnable","");d.className="client_AudioSwitch";NowAudioMute="false"}else{b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioMute","true");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/AudioEnable","");b.Set("SetClientInfoDemo/ClientInfoLists/ClientInfo:1/SupportedAction/SmartPlugEnable","");d.className="client_AudioSwitch_off";NowAudioMute="true"}}var c=HNAP.SetXML("SetClientInfoDemo",b)}function client_DeviceConfig(a){clearTimeout(Time_ClientList)}function openWebUI(b){b=parseInt(b);var a=array2Dv[b-1][0].substring(0,3);switch(a){case"DNS":window.open("http://"+array2Dv[b-1][2],"_blank");break;case"DCS":document.getElementById("ipcam_client").innerHTML="";document.getElementById("IPCam_PW").value="";document.getElementById("ipcampw").style.display="table-row";document.getElementById("ipcamcheck").style.display="table-row";document.getElementById("editPop2").style.display="inline";document.getElementById("IPCam_Name").innerHTML=array2Dv[b-1][0];document.getElementById("IPCam_address").value=array2Dv[b-1][2];IPCam_address=document.getElementById("IPCam_address").value;break;case"DCH":case"DSP":case"None":break}}function checkIPCamPW(k){var l=location.host;var g=k;var e="";var a="";var m="";var p=false;document.getElementById("ipcampw").style.display="none";document.getElementById("ipcamcheck").style.display="none";if(l.search(".local")!=-1||l.search("192.168")!=-1){a="http://"+document.getElementById("IPCam_address").value+":80"}else{var h=HNAP.GetXML("GetWanSettings");var n=HNAP.GetXML("GetVirtualServerSettings");var o=h.Get("GetWanSettingsResponse/IPAddress");var j=n.Get("GetVirtualServerSettingsResponse/VirtualServerList/VirtualServerInfo#");for(var d=1;d<=j;d++){var f=n.Get("GetVirtualServerSettingsResponse/VirtualServerList/VirtualServerInfo:"+d+"/LocalIPAddress");if(g==f){m=n.Get("GetVirtualServerSettingsResponse/VirtualServerList/VirtualServerInfo:"+d+"/ExternalPort");a="http://"+o+":"+m;p=true}}}var c=document.getElementById("IPCam_PW").value;c=Base64.encode("admin:")+Base64.encode(c);var b="";b='<table border="0" cellspacing="0" cellpadding="0">';b+="<tr>";b+='<td bgcolor="black"><font color="white"><label id="deviceName"></label><br></font></td>';b+="</tr>";b='<table border="0" cellspacing="0" cellpadding="0">';b+="<tr>";b+='<td colspan=2 align=center bgcolor="white">';b+='<applet name="cvcs" codeBase="'+a+'" archive="vplug.jar" code="vplug.class" width=480 height=360>';if(p==false){b+='<param name="RemotePort" value=80>'}else{b+='<param name="RemotePort" value="'+m+'">'}b+='<param name="Timeout" value=5000>';b+='<param name="RotateAngle" value=0>';b+='<param name="PreviewFrameRate" value=2>';b+='<param name="Algorithm" value="1">';b+='<param name="DeviceSerialNo" value="'+c+'">';b+="</applet>";b+="</td>";b+="</tr>";b+="</table>";b+="</table>";document.getElementById("ipcam_client").innerHTML=b}function btnClickEvent(e,a){a=parseInt(a);var i=array2Dv[a-1][1];var c=array2Dv[a-1][9];var b=array2Dv[a-1][5];var k=array2Dv[a-1][13];var g=array2Dv[a-1][14];var h=array2Dv[a-1][15];var j=e.id+"_ck";if(e.className=="checkbox_on"){var d=I18N("j","Disabled");e.className="checkbox_off";e.innerHTML='<input type="checkbox" name='+e.id+" id="+j+" checked>"+d;document.getElementById(j).checked=false}else{var f=I18N("j","Enabled");e.className="checkbox_on";e.innerHTML='<input type="checkbox" name='+e.id+" id="+j+" checked>"+f;document.getElementById(j).checked=true}}function UpdateSmartPlugWatt(e){var d=HNAP.GetXML("GetClientInfoDemo");for(var c=1;c<=Total_Clients;c++){var b=d.Get("GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+c+"/DeviceName");if(b=="DSP-W215"){var a=d.Get("GetClientInfoDemoResponse/ClientInfoLists/ClientInfo:"+c+"/SupportedAction/SmartPlug_Watt");if(a!=""){document.getElementById("watt_Value").innerHTML=a+"w"}break}}Time_ClientSamrtPlugWatt=window.clearInterval(Time_ClientSamrtPlugWatt);Time_ClientSamrtPlugWatt=setTimeout("UpdateSmartPlugWatt('0')",5000)};